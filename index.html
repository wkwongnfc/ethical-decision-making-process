<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ethical Decision Making Process</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        .drag-item {
            cursor: grab;
            transition: all 0.3s ease;
        }
        .drag-item:active {
            cursor: grabbing;
            transform: rotate(5deg) scale(1.05);
        }
        .drop-zone {
            min-height: 80px;
            transition: all 0.3s ease;
        }
        .drop-zone.drag-over {
            background-color: #dbeafe;
            border-color: #3b82f6;
            transform: scale(1.02);
        }
        .feedback-correct {
            animation: bounce 0.6s ease-in-out;
        }
        .feedback-incorrect {
            animation: shake 0.5s ease-in-out;
        }
        @keyframes bounce {
            0%, 20%, 53%, 80%, 100% { transform: translate3d(0,0,0); }
            40%, 43% { transform: translate3d(0,-15px,0); }
            70% { transform: translate3d(0,-7px,0); }
            90% { transform: translate3d(0,-2px,0); }
        }
        @keyframes shake {
            0%, 100% { transform: translateX(0); }
            10%, 30%, 50%, 70%, 90% { transform: translateX(-5px); }
            20%, 40%, 60%, 80% { transform: translateX(5px); }
        }
    </style>
</head>
<body class="bg-gradient-to-br from-blue-50 to-indigo-100 min-h-screen p-6 flex items-center justify-center">
    <div class="w-[800px] h-[700px] bg-white rounded-xl shadow-lg p-6 flex flex-col">
        <div class="text-center mb-6">
            <h1 class="text-2xl font-bold text-gray-800 mb-2">Ethical Decision Making Process</h1>
            <p class="text-sm text-gray-600">Drag the steps from the right to arrange them in the correct order (1-5)</p>
            <!-- Feedback Area -->
            <div id="feedback" class="fixed top-20 left-1/2 transform -translate-x-1/2 z-50"></div>
        </div>
        
        <div class="flex-1 flex gap-6">
            <!-- Drop Zones - Left Side -->
            <div class="flex-1 flex flex-col gap-3">
                <h2 class="text-lg font-semibold text-gray-800 mb-2 text-center">Correct Order:</h2>
                
                <div class="flex items-center gap-3">
                    <div class="w-8 h-8 bg-blue-500 text-white rounded-full flex items-center justify-center font-bold text-sm">1</div>
                    <div class="drop-zone flex-1 border-2 border-dashed border-gray-300 rounded-lg p-3 bg-gray-50 min-h-[60px] flex items-center" data-position="1">
                        <p class="text-gray-400 text-sm text-center w-full">Drop first step here</p>
                    </div>
                </div>
                
                <div class="flex items-center gap-3">
                    <div class="w-8 h-8 bg-blue-500 text-white rounded-full flex items-center justify-center font-bold text-sm">2</div>
                    <div class="drop-zone flex-1 border-2 border-dashed border-gray-300 rounded-lg p-3 bg-gray-50 min-h-[60px] flex items-center" data-position="2">
                        <p class="text-gray-400 text-sm text-center w-full">Drop second step here</p>
                    </div>
                </div>
                
                <div class="flex items-center gap-3">
                    <div class="w-8 h-8 bg-blue-500 text-white rounded-full flex items-center justify-center font-bold text-sm">3</div>
                    <div class="drop-zone flex-1 border-2 border-dashed border-gray-300 rounded-lg p-3 bg-gray-50 min-h-[60px] flex items-center" data-position="3">
                        <p class="text-gray-400 text-sm text-center w-full">Drop third step here</p>
                    </div>
                </div>
                
                <div class="flex items-center gap-3">
                    <div class="w-8 h-8 bg-blue-500 text-white rounded-full flex items-center justify-center font-bold text-sm">4</div>
                    <div class="drop-zone flex-1 border-2 border-dashed border-gray-300 rounded-lg p-3 bg-gray-50 min-h-[60px] flex items-center" data-position="4">
                        <p class="text-gray-400 text-sm text-center w-full">Drop fourth step here</p>
                    </div>
                </div>
                
                <div class="flex items-center gap-3">
                    <div class="w-8 h-8 bg-blue-500 text-white rounded-full flex items-center justify-center font-bold text-sm">5</div>
                    <div class="drop-zone flex-1 border-2 border-dashed border-gray-300 rounded-lg p-3 bg-gray-50 min-h-[60px] flex items-center" data-position="5">
                        <p class="text-gray-400 text-sm text-center w-full">Drop fifth step here</p>
                    </div>
                </div>
                
                <!-- Reset Button -->
                <div class="text-center mt-3">
                    <button id="reset-btn" class="bg-gray-500 hover:bg-gray-600 text-white px-6 py-3 rounded-lg font-medium transition-colors text-base">
                        Reset Activity
                    </button>
                </div>
            </div>

            <!-- Draggable Items - Right Side -->
            <div class="flex-1 flex flex-col">
                <h2 class="text-lg font-semibold text-gray-800 mb-4 text-center">Steps to Arrange:</h2>
                <div class="flex flex-col gap-3" id="draggable-container">
                    <div class="drag-item bg-gradient-to-r from-green-400 to-green-500 text-white p-3 rounded-lg shadow-md" draggable="true" data-step="1">
                        <p class="font-medium text-base">Have a clear understanding of the situation</p>
                    </div>
                    
                    <div class="drag-item bg-gradient-to-r from-purple-400 to-purple-500 text-white p-3 rounded-lg shadow-md" draggable="true" data-step="2">
                        <p class="font-medium text-base">Identify the stakeholders</p>
                    </div>
                    
                    <div class="drag-item bg-gradient-to-r from-orange-400 to-orange-500 text-white p-3 rounded-lg shadow-md" draggable="true" data-step="3">
                        <p class="font-medium text-base">Prioritise the key responsibilities</p>
                    </div>
                    
                    <div class="drag-item bg-gradient-to-r from-red-400 to-red-500 text-white p-3 rounded-lg shadow-md" draggable="true" data-step="4">
                        <p class="font-medium text-base">Identify a course of action</p>
                    </div>
                    
                    <div class="drag-item bg-gradient-to-r from-indigo-400 to-indigo-500 text-white p-3 rounded-lg shadow-md" draggable="true" data-step="5">
                        <p class="font-medium text-base">Act on it and review</p>
                    </div>
                </div>
            </div>
        </div>

    </div>

    <script>
        let draggedElement = null;
        let correctPlacements = 0;

        // Randomize the order of draggable items on page load
        function randomizeSteps() {
            const container = document.getElementById('draggable-container');
            const items = Array.from(container.children);
            
            // Shuffle array using Fisher-Yates algorithm
            for (let i = items.length - 1; i > 0; i--) {
                const j = Math.floor(Math.random() * (i + 1));
                [items[i], items[j]] = [items[j], items[i]];
            }
            
            // Re-append items in randomized order
            items.forEach(item => container.appendChild(item));
        }

        // Initialize randomization on page load
        randomizeSteps();

        // Add drag event listeners to all draggable items
        document.querySelectorAll('.drag-item').forEach(item => {
            item.addEventListener('dragstart', handleDragStart);
            item.addEventListener('dragend', handleDragEnd);
        });

        // Add drop event listeners to all drop zones
        document.querySelectorAll('.drop-zone').forEach(zone => {
            zone.addEventListener('dragover', handleDragOver);
            zone.addEventListener('dragenter', handleDragEnter);
            zone.addEventListener('dragleave', handleDragLeave);
            zone.addEventListener('drop', handleDrop);
        });

        function handleDragStart(e) {
            draggedElement = this;
            this.style.opacity = '0.5';
        }

        function handleDragEnd(e) {
            this.style.opacity = '1';
            draggedElement = null;
        }

        function handleDragOver(e) {
            e.preventDefault();
        }

        function handleDragEnter(e) {
            e.preventDefault();
            this.classList.add('drag-over');
        }

        function handleDragLeave(e) {
            this.classList.remove('drag-over');
        }

        function handleDrop(e) {
            e.preventDefault();
            this.classList.remove('drag-over');

            if (draggedElement) {
                const dropPosition = parseInt(this.dataset.position);
                const draggedStep = parseInt(draggedElement.dataset.step);

                // Check if it's already occupied
                if (this.querySelector('.drag-item')) {
                    showFeedback("This position is already filled! Try another spot.", false);
                    return;
                }

                // Check if correct placement
                if (dropPosition === draggedStep) {
                    // Correct placement
                    this.innerHTML = '';
                    this.appendChild(draggedElement);
                    draggedElement.style.margin = '0';
                    correctPlacements++;
                    
                    showFeedback("You are right! âœ…", true);
                    
                    // Check if all steps are correctly placed
                    if (correctPlacements === 5) {
                        setTimeout(() => {
                            showFeedback("ðŸŽ‰ Excellent! You've correctly arranged all steps of the ethical decision-making process!", true);
                        }, 1000);
                    }
                } else {
                    // Incorrect placement
                    showFeedback("Try again! ðŸ¤”", false);
                }
            }
        }

        function showFeedback(message, isCorrect) {
            const feedback = document.getElementById('feedback');
            feedback.innerHTML = `<div class="inline-block px-6 py-3 rounded-lg font-medium text-lg ${isCorrect ? 'bg-green-100 text-green-800 feedback-correct' : 'bg-red-100 text-red-800 feedback-incorrect'}">${message}</div>`;
            
            // Clear feedback after 3 seconds
            setTimeout(() => {
                feedback.innerHTML = '';
            }, 3000);
        }

        // Reset functionality
        document.getElementById('reset-btn').addEventListener('click', function() {
            correctPlacements = 0;
            
            // Move all items back to the draggable container
            document.querySelectorAll('.drag-item').forEach(item => {
                document.getElementById('draggable-container').appendChild(item);
                item.style.margin = '';
            });
            
            // Reset all drop zones
            document.querySelectorAll('.drop-zone').forEach(zone => {
                const position = zone.dataset.position;
                zone.innerHTML = `<p class="text-gray-400 text-center">Drop the ${getOrdinal(position)} step here</p>`;
            });
            
            // Clear feedback
            document.getElementById('feedback').innerHTML = '';
            
            // Randomize the order again
            randomizeSteps();
        });

        function getOrdinal(num) {
            const ordinals = ['', 'first', 'second', 'third', 'fourth', 'fifth'];
            return ordinals[num] || num;
        }
    </script>
<script>(function(){function c(){var b=a.contentDocument||a.contentWindow.document;if(b){var d=b.createElement('script');d.innerHTML="window.__CF$cv$params={r:'98302e6a748ece82',t:'MTc1ODUyNzExMS4wMDAwMDA='};var a=document.createElement('script');a.nonce='';a.src='/cdn-cgi/challenge-platform/scripts/jsd/main.js';document.getElementsByTagName('head')[0].appendChild(a);";b.getElementsByTagName('head')[0].appendChild(d)}}if(document.body){var a=document.createElement('iframe');a.height=1;a.width=1;a.style.position='absolute';a.style.top=0;a.style.left=0;a.style.border='none';a.style.visibility='hidden';document.body.appendChild(a);if('loading'!==document.readyState)c();else if(window.addEventListener)document.addEventListener('DOMContentLoaded',c);else{var e=document.onreadystatechange||function(){};document.onreadystatechange=function(b){e(b);'loading'!==document.readyState&&(document.onreadystatechange=e,c())}}}})();</script></body>
</html>
